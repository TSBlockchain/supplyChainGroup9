../bin/configtxgen -profile SupplyChainOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block
export CHANNEL_NAME=supplychainchannel  && ../bin/configtxgen -profile SupplyChainOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID $CHANNEL_NAME

docker-compose -f docker-compose.yml up

docker exec -e "CORE_PEER_LOCALMSPID=ProducerMSP" -e "CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/producer.supply-chain-blockchain.com/users/Admin@producer.supply-chain-blockchain.com/msp" -e "CORE_PEER_ADDRESS=peer0.producer.supply-chain-blockchain.com:7051" cli peer channel create -o orderer.supply-chain-blockchain.com:7050 -c supplychainchannel -f /etc/hyperledger/configtx/channel.tx

docker exec -e "CORE_PEER_LOCALMSPID=supplierMSP" -e "CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/supplier.supply-chain-blockchain.com/users/Admin@supplier.supply-chain-blockchain.com/msp" -e "CORE_PEER_ADDRESS=peer0.supplier.supply-chain-blockchain.com:7051" cli peer channel join -b supplychainchannel.block
docker exec -e "CORE_PEER_LOCALMSPID=consumerMSP" -e "CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/consumer.supply-chain-blockchain.com/users/Admin@consumer.supply-chain-blockchain.com/msp" -e "CORE_PEER_ADDRESS=peer0.consumer.supply-chain-blockchain.com:7051" cli peer channel join -b supplychainchannel.block
docker exec -e "CORE_PEER_LOCALMSPID=regulatorMSP" -e "CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/regulator.supply-chain-blockchain.com/users/Admin@regulator.supply-chain-blockchain.com/msp" -e "CORE_PEER_ADDRESS=peer0.regulator.supply-chain-blockchain.com:7051" cli peer channel join -b supplychainchannel.block
